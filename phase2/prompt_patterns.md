Add unit tests for all functions
Refactor to async
Explain architecture
Find potential bugs